{
  "integrations_researched": [
    {
      "name": "Compromise",
      "type": "library",
      "purpose": "Named entity recognition and extraction for identifying people, organizations in text",
      "verified_package": {
        "name": "compromise",
        "install_command": "npm install compromise",
        "version": "14.14.5",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import nlp from 'compromise'",
          "const doc = nlp('Dr. Smith visited the hospital')"
        ],
        "initialization": "const doc = nlp(text)",
        "key_functions": [
          "doc.people().out('array')",
          "doc.organizations().out('array')",
          "doc.match('#Person').json()",
          "doc.topics().json()"
        ],
        "verified_against": "Context7 MCP: /spencermountain/compromise, npm registry"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "embedded": true
      },
      "gotchas": [
        "Rule-based, not ML - good for speed but may miss context-dependent entities",
        "Best for English text processing",
        "Modest accuracy compared to ML models but very fast"
      ],
      "research_sources": [
        "Context7 MCP: /spencermountain/compromise",
        "npm registry: compromise@14.14.5"
      ]
    },
    {
      "name": "Wink NLP",
      "type": "library",
      "purpose": "Alternative NLP library with NER, POS tagging, and word embeddings support",
      "verified_package": {
        "name": "wink-nlp",
        "install_command": "npm install wink-nlp",
        "version": "2.4.0",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "const winkNLP = require('wink-nlp')",
          "const model = require('wink-eng-lite-web-model')"
        ],
        "initialization": "const nlp = winkNLP(model)",
        "key_functions": [
          "nlp.readDoc(text)",
          "doc.entities().out()",
          "doc.tokens().out()"
        ],
        "verified_against": "Context7 MCP: /winkjs/wink-nlp, npm registry"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": [
          "wink-eng-lite-web-model (language model)"
        ]
      },
      "infrastructure": {
        "requires_docker": false,
        "embedded": true
      },
      "gotchas": [
        "Requires separate language model package",
        "Developer-friendly API but smaller community than compromise",
        "Fast and accurate for standard NLP tasks"
      ],
      "research_sources": [
        "Context7 MCP: /winkjs/wink-nlp",
        "npm registry: wink-nlp@2.4.0"
      ]
    },
    {
      "name": "node-nlp",
      "type": "library",
      "purpose": "Comprehensive NLP library with NER, sentiment analysis, and entity extraction",
      "verified_package": {
        "name": "node-nlp",
        "install_command": "npm install node-nlp",
        "version": "5.0.0-alpha.5",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "const { NlpManager } = require('node-nlp')",
          "const { Ner } = require('@nlpjs/ner')"
        ],
        "initialization": "const manager = new NlpManager({ languages: ['en'] })",
        "key_functions": [
          "manager.process(text)",
          "ner.findEntities(text)",
          "manager.addNamedEntityText(entityName, optionName, values)"
        ],
        "verified_against": "npm registry"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": [
          "@nlpjs/core",
          "@nlpjs/ner"
        ]
      },
      "infrastructure": {
        "requires_docker": false,
        "embedded": true
      },
      "gotchas": [
        "Alpha version - may have breaking changes",
        "More complex API than compromise",
        "Comprehensive features but heavier package"
      ],
      "research_sources": [
        "npm registry: node-nlp@5.0.0-alpha.5",
        "npm registry: @nlpjs/ner@5.0.0-alpha.5"
      ]
    },
    {
      "name": "React Flow",
      "type": "library",
      "purpose": "Interactive node-based graph visualization for displaying entity relationships",
      "verified_package": {
        "name": "reactflow",
        "install_command": "npm install reactflow",
        "version": "11.11.4",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import ReactFlow, { Node, Edge } from 'reactflow'",
          "import 'reactflow/dist/style.css'"
        ],
        "initialization": "<ReactFlow nodes={nodes} edges={edges} />",
        "key_functions": [
          "useNodesState(initialNodes)",
          "useEdgesState(initialEdges)",
          "onNodesChange",
          "onEdgesChange",
          "onConnect"
        ],
        "verified_against": "Context7 MCP: /websites/reactflow_dev"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "frontend_only": true
      },
      "gotchas": [
        "Requires CSS import for styling",
        "Performance considerations for large graphs (1000+ nodes)",
        "Built-in zoom, pan, and drag features"
      ],
      "research_sources": [
        "Context7 MCP: /websites/reactflow_dev",
        "Context7 MCP: /xyflow/xyflow",
        "npm registry: reactflow@11.11.4"
      ]
    },
    {
      "name": "Cytoscape.js",
      "type": "library",
      "purpose": "Alternative graph visualization library for complex network diagrams",
      "verified_package": {
        "name": "cytoscape",
        "install_command": "npm install cytoscape",
        "version": "latest",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import cytoscape from 'cytoscape'"
        ],
        "initialization": "const cy = cytoscape({ container: document.getElementById('cy'), elements: [] })",
        "key_functions": [
          "cy.add({ group: 'nodes', data: { id: 'n1' } })",
          "cy.add({ group: 'edges', data: { source: 'n1', target: 'n2' } })",
          "cy.layout({ name: 'cose' }).run()"
        ],
        "verified_against": "Context7 MCP: /cytoscape/cytoscape.js"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "frontend_only": true
      },
      "gotchas": [
        "More complex API than React Flow",
        "Better for biological networks and complex graph analysis",
        "Has React wrapper: react-cytoscapejs"
      ],
      "research_sources": [
        "Context7 MCP: /cytoscape/cytoscape.js",
        "Context7 MCP: /plotly/react-cytoscapejs"
      ]
    },
    {
      "name": "Graphology",
      "type": "library",
      "purpose": "Graph data structure library for managing entity relationships in memory",
      "verified_package": {
        "name": "graphology",
        "install_command": "npm install graphology",
        "version": "0.26.0",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import Graph from 'graphology'",
          "import { bidirectional } from 'graphology-shortest-path'"
        ],
        "initialization": "const graph = new Graph()",
        "key_functions": [
          "graph.addNode(key, attributes)",
          "graph.addEdge(source, target, attributes)",
          "graph.neighbors(node)",
          "graph.findNode((node, attr) => attr.name === 'John')"
        ],
        "verified_against": "Context7 MCP: /graphology/graphology"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "embedded": true
      },
      "gotchas": [
        "Pure data structure - needs separate visualization library",
        "Comprehensive algorithms library available",
        "Works well with Sigma.js for visualization"
      ],
      "research_sources": [
        "Context7 MCP: /graphology/graphology",
        "npm registry: graphology@0.26.0"
      ]
    },
    {
      "name": "Fastest Levenshtein",
      "type": "library",
      "purpose": "Fast string edit distance calculation for entity name matching",
      "verified_package": {
        "name": "fastest-levenshtein",
        "install_command": "npm install fastest-levenshtein",
        "version": "1.0.16",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import { distance, closest } from 'fastest-levenshtein'"
        ],
        "initialization": "N/A - functional library",
        "key_functions": [
          "distance('John Smith', 'Jon Smith')",
          "closest('John Smith', ['Jane Smith', 'Jon Smith', 'J. Smith'])"
        ],
        "verified_against": "Context7 MCP: /ka-weihe/fastest-levenshtein"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "embedded": true
      },
      "gotchas": [
        "No dependencies - pure TypeScript implementation",
        "Zero dependencies",
        "Fastest Levenshtein implementation in JavaScript"
      ],
      "research_sources": [
        "Context7 MCP: /ka-weihe/fastest-levenshtein",
        "npm registry: fastest-levenshtein@1.0.16"
      ]
    },
    {
      "name": "Fuzzyset.js",
      "type": "library",
      "purpose": "Fuzzy string matching for approximate entity name matching",
      "verified_package": {
        "name": "fuzzyset",
        "install_command": "npm install fuzzyset",
        "version": "1.0.7",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import FuzzySet from 'fuzzyset'"
        ],
        "initialization": "const a = FuzzySet(['Dr. Smith', 'Jane Smith', 'John Smith'])",
        "key_functions": [
          "a.get('Jon Smith')",
          "a.get('Dr. Smth', null, 0.7)"
        ],
        "verified_against": "Context7 MCP: /glench/fuzzyset.js"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "embedded": true
      },
      "gotchas": [
        "Uses n-grams for matching",
        "Returns array of [score, match] tuples",
        "Good for typo tolerance but not semantic matching"
      ],
      "research_sources": [
        "Context7 MCP: /glench/fuzzyset.js",
        "npm registry: fuzzyset@1.0.7"
      ]
    },
    {
      "name": "String Comparison",
      "type": "library",
      "purpose": "Multiple string similarity algorithms (Dice, Cosine, Jaccard, Levenshtein)",
      "verified_package": {
        "name": "string-comparison",
        "install_command": "npm install string-comparison",
        "version": "1.3.0",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "const similarity = require('string-comparison')"
        ],
        "initialization": "N/A - functional library",
        "key_functions": [
          "similarity.diceCoefficient.sortMatch('John Smith', ['Jane Smith', 'Jon Smith'])",
          "similarity.cosine.similarity('Dr. Smith', 'Doctor Smith')",
          "similarity.levenshtein.distance('Smith', 'Smyth')"
        ],
        "verified_against": "npm registry"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "embedded": true
      },
      "gotchas": [
        "Multiple algorithms available",
        "Dice coefficient generally better than Levenshtein for entity matching",
        "No TypeScript types included"
      ],
      "research_sources": [
        "npm registry: string-comparison@1.3.0"
      ]
    },
    {
      "name": "Jaro-Winkler",
      "type": "library",
      "purpose": "Jaro-Winkler distance for name matching (optimized for person names)",
      "verified_package": {
        "name": "@skyra/jaro-winkler",
        "install_command": "npm install @skyra/jaro-winkler",
        "version": "1.1.1",
        "verified": true
      },
      "api_parameters": {
        "imports": [
          "import { jaroWinkler } from '@skyra/jaro-winkler'"
        ],
        "initialization": "N/A - functional library",
        "key_functions": [
          "jaroWinkler('Dr. Smith', 'Doctor Smith')",
          "jaroWinkler('John Smith', 'Jon Smith')"
        ],
        "verified_against": "npm registry"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "embedded": true
      },
      "gotchas": [
        "Jaro-Winkler gives higher scores to strings with common prefixes",
        "Particularly good for person name matching",
        "Returns similarity score 0-1 (higher is better)"
      ],
      "research_sources": [
        "npm registry: @skyra/jaro-winkler@1.1.1"
      ]
    },
    {
      "name": "Claude API",
      "type": "service",
      "purpose": "AI-powered entity resolution and semantic matching (already integrated)",
      "verified_package": {
        "name": "@anthropic-ai/sdk",
        "install_command": "npm install @anthropic-ai/sdk",
        "version": "0.71.2",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import Anthropic from '@anthropic-ai/sdk'"
        ],
        "initialization": "const anthropic = new Anthropic({ apiKey: process.env.ANTHROPIC_API_KEY })",
        "key_functions": [
          "anthropic.messages.create({ model: 'claude-3-5-sonnet-20241022', messages: [...] })"
        ],
        "verified_against": "Existing codebase integration"
      },
      "configuration": {
        "env_vars": [
          "ANTHROPIC_API_KEY"
        ],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false,
        "external_api": true
      },
      "gotchas": [
        "Already integrated in the codebase",
        "Used in existing entity resolution engine",
        "Can provide semantic understanding for complex entity matching"
      ],
      "research_sources": [
        "Existing package.json",
        "src/lib/engines/entity-resolution.ts"
      ]
    }
  ],
  "unverified_claims": [
    {
      "claim": "Python-based dedupe library for entity resolution",
      "reason": "Dedupe library exists but is Python-only. No JavaScript/Node.js equivalent found. Would require separate Python service or Python-to-JS bridge.",
      "risk_level": "medium",
      "recommendation": "Use JavaScript-native solutions (compromise + string matching) or create Python microservice if ML-based deduplication is required"
    },
    {
      "claim": "string-similarity package",
      "reason": "Package exists but is DEPRECATED as of 2023. Npm shows deprecation warning.",
      "risk_level": "low",
      "recommendation": "Use 'string-comparison' or 'fastest-levenshtein' instead"
    },
    {
      "claim": "Neo4j graph database for entity storage",
      "reason": "Neo4j is production-ready but adds significant infrastructure complexity (requires Docker/server). Existing stack uses Supabase (Postgres).",
      "risk_level": "medium",
      "recommendation": "Use Postgres for entity storage initially. Can add Neo4j later if graph query performance becomes critical. Graphology library can handle in-memory graph operations."
    }
  ],
  "recommendations": [
    "PRIMARY RECOMMENDATION: Use Compromise for NLP entity extraction - it's lightweight, fast, and good enough for most cases",
    "For string matching: Combine fastest-levenshtein (edit distance), @skyra/jaro-winkler (name matching), and fuzzyset (fuzzy search) for robust entity matching",
    "For visualization: React Flow is recommended - simpler API than Cytoscape, better React integration, and sufficient for entity relationship graphs",
    "For graph data structure: Use Graphology to manage entity relationships in memory before storing in Supabase",
    "Leverage existing Claude API integration for semantic entity resolution when rule-based matching fails",
    "Store entity graph in Supabase Postgres using adjacency list pattern - no need for Neo4j initially",
    "Consider tiered matching approach: (1) Exact match, (2) Fuzzy string matching, (3) Claude AI semantic matching",
    "ALTERNATIVE: If higher accuracy NER is needed, consider node-nlp, but it's heavier and currently in alpha"
  ],
  "implementation_strategy": {
    "tier_1_exact_match": {
      "description": "Fast exact string matching with normalization",
      "libraries": [],
      "approach": "Normalize entity names (lowercase, trim, remove titles) and check for exact matches"
    },
    "tier_2_fuzzy_match": {
      "description": "Fuzzy string matching with multiple algorithms",
      "libraries": [
        "fastest-levenshtein",
        "@skyra/jaro-winkler",
        "fuzzyset"
      ],
      "approach": "Use Jaro-Winkler for person names, Levenshtein for general strings, FuzzySet for typo tolerance. Combine scores with weighted average."
    },
    "tier_3_nlp_extraction": {
      "description": "Extract entities from unstructured text",
      "libraries": [
        "compromise"
      ],
      "approach": "Use compromise to identify people, organizations, and topics in document text"
    },
    "tier_4_semantic_matching": {
      "description": "AI-powered semantic entity resolution",
      "libraries": [
        "@anthropic-ai/sdk (already integrated)"
      ],
      "approach": "When fuzzy matching is uncertain (score 0.5-0.8), use Claude to determine if entities are the same based on context"
    },
    "visualization": {
      "description": "Interactive entity relationship graph",
      "libraries": [
        "reactflow",
        "graphology"
      ],
      "approach": "Use Graphology to build graph, export to React Flow format for visualization"
    },
    "storage": {
      "description": "Persist entity graph in existing Supabase database",
      "libraries": [
        "@supabase/supabase-js (already integrated)"
      ],
      "approach": "Create tables: entities, entity_mentions, entity_relationships. Use Postgres for storage, Graphology for in-memory graph operations."
    }
  },
  "context7_libraries_used": [
    "/spencermountain/compromise",
    "/winkjs/wink-nlp",
    "/websites/reactflow_dev",
    "/xyflow/xyflow",
    "/cytoscape/cytoscape.js",
    "/plotly/react-cytoscapejs",
    "/graphology/graphology",
    "/ka-weihe/fastest-levenshtein",
    "/glench/fuzzyset.js"
  ],
  "created_at": "2026-01-05T12:00:00Z"
}
