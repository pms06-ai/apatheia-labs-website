(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490,438],{490:function(e,t,a){Promise.resolve().then(a.bind(a,4556))},4556:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return F}});var s=a(7437),r=a(2265),i=a(1723),l=a(740),n=a(3276),o=a(8736),c=a(8919),d=a(6865),x=a(7580),h=a(2735),u=a(9820),m=a(9174),p=a(2776),g=a(3448);let b=p.fC,f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.aV,{ref:t,className:(0,g.cn)("inline-flex h-10 items-center justify-center rounded-md bg-bg-tertiary p-1 text-charcoal-400",a),...r})});f.displayName=p.aV.displayName;let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.xz,{ref:t,className:(0,g.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-bg-elevated data-[state=active]:text-charcoal-100 data-[state=active]:shadow-sm",a),...r})});v.displayName=p.xz.displayName;let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.VY,{ref:t,className:(0,g.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});y.displayName=p.VY.displayName;var j=a(6470);function N(e){let{findings:t,onSelect:a}=e;return 0===t.length?(0,s.jsxs)(u.Zb,{className:"p-8 text-center bg-charcoal-800/50 border-charcoal-700",children:[(0,s.jsx)(d.Z,{className:"mx-auto h-10 w-10 text-bronze-500/50"}),(0,s.jsx)("p",{className:"mt-4 text-sm text-charcoal-300 font-display",children:"No findings detected yet"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-charcoal-500 font-mono",children:"Run an analysis engine to generate forensic reports"})]}):(0,s.jsxs)("div",{className:"space-y-1 pl-4 md:pl-6 border-l border-dashed border-charcoal-700/30 ml-2",children:[(0,s.jsx)("div",{className:"absolute top-0 bottom-0 left-[27px] w-px bg-transparent"})," ",t.map(e=>(0,s.jsx)(j.l,{finding:e,onSelect:a},e.id))]})}var w=a(3810),k=a(1047);function _(e){let{events:t}=e,a=[...t].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());return(0,s.jsxs)("div",{className:"relative space-y-8 pl-8 py-4",children:[(0,s.jsx)("div",{className:"absolute left-3 top-2 bottom-2 w-px bg-gradient-to-b from-charcoal-700 via-bronze-500/50 to-charcoal-700"}),a.map((e,t)=>{let a="critical"===e.severity,r="strengthened"===e.type;return(0,s.jsxs)(w.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"relative",children:[(0,s.jsx)("div",{className:"\n                            absolute -left-[29px] top-4 flex h-6 w-6 items-center justify-center rounded-full border-2 bg-bg-tertiary z-10\n                            ".concat(a?"border-status-critical shadow-[0_0_15px_rgba(201,74,74,0.4)]":"high"===e.severity?"border-status-high":r?"border-bronze-500 shadow-[0_0_10px_rgba(184,134,11,0.3)]":"border-charcoal-600","\n                        "),children:(0,s.jsx)("div",{className:"h-2 w-2 rounded-full ".concat(a?"bg-status-critical animate-pulse":"high"===e.severity?"bg-status-high":r?"bg-bronze-500":"bg-charcoal-400")})}),(0,s.jsxs)(u.Zb,{className:"\n                            group relative overflow-hidden transition-all duration-300 border-charcoal-700\n                            hover:border-bronze-500/30 hover:shadow-[0_4px_20px_rgba(0,0,0,0.4)]\n                            ".concat(a?"bg-status-critical-bg/5 border-status-critical/30":"bg-bg-elevated/40","\n                        "),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-bronze-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),(0,s.jsxs)("div",{className:"relative p-5 flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono text-bronze-500 bg-bronze-500/10 px-2 py-1 rounded",children:[(0,s.jsx)(k.Z,{className:"h-3 w-3"}),(0,s.jsx)("time",{children:new Date(e.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),e.documentName&&(0,s.jsxs)("span",{className:"text-xs text-charcoal-400 flex items-center gap-1",children:[(0,s.jsx)(o.Z,{className:"h-3 w-3"}),e.documentName]})]}),(0,s.jsx)("h4",{className:"font-display text-lg ".concat(a?"text-status-critical":"text-charcoal-100"),children:e.title}),e.description&&(0,s.jsx)("p",{className:"text-sm text-charcoal-300 leading-relaxed max-w-2xl font-sans",children:e.description})]}),(0,s.jsxs)("div",{className:"flex flex-row sm:flex-col items-center sm:items-end gap-2 shrink-0",children:[e.severity&&(0,s.jsx)(m.Ct,{variant:e.severity,className:"shadow-lg",children:e.severity}),"unchanged"!==e.type&&"first"!==e.type&&(0,s.jsx)("span",{className:"text-[10px] uppercase tracking-wider font-medium px-2 py-0.5 rounded-full ".concat("strengthened"===e.type?"bg-bronze-500/10 text-bronze-500":"weakened"===e.type?"bg-charcoal-700 text-charcoal-400":"bg-charcoal-800 text-charcoal-500"),children:e.type})]})]})]})]},e.id)}),0===a.length&&(0,s.jsx)("div",{className:"text-center text-charcoal-500 py-12 italic border-2 border-dashed border-charcoal-800 rounded-lg",children:"No timeline events generated yet. Run the narrative engine to populate this view."})]})}function z(e){let{nodes:t,links:a}=e,r=t.map((e,a)=>{let s=a/t.length*2*Math.PI-Math.PI/2;return{...e,x:300+140*Math.cos(s),y:200+140*Math.sin(s)}});return(0,s.jsxs)(u.Zb,{className:"overflow-hidden bg-[#0f0f10] border-charcoal-700 p-0 relative shadow-inner",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-bronze-900/10 via-transparent to-charcoal-900/50 pointer-events-none"}),(0,s.jsx)("div",{className:"relative w-full overflow-x-auto",children:(0,s.jsxs)("svg",{width:600,height:400,className:"mx-auto",viewBox:"0 0 ".concat(600," ").concat(400),children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"linkGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,s.jsx)("stop",{offset:"0%",stopColor:"#4B5563",stopOpacity:"0.2"}),(0,s.jsx)("stop",{offset:"50%",stopColor:"#D4A017",stopOpacity:"0.4"}),(0,s.jsx)("stop",{offset:"100%",stopColor:"#4B5563",stopOpacity:"0.2"})]}),(0,s.jsxs)("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,s.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,s.jsxs)("feMerge",{children:[(0,s.jsx)("feMergeNode",{in:"coloredBlur"}),(0,s.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,s.jsxs)("filter",{id:"critical-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,s.jsx)("feGaussianBlur",{stdDeviation:"6",result:"coloredBlur"}),(0,s.jsxs)("feMerge",{children:[(0,s.jsx)("feMergeNode",{in:"coloredBlur"}),(0,s.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,s.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"22",refY:"3.5",orient:"auto",children:(0,s.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6B7280",opacity:"0.8"})})]}),a.map((e,t)=>{let a=r.find(t=>t.id===e.source),i=r.find(t=>t.id===e.target);return a&&i?(0,s.jsxs)("g",{children:[(0,s.jsx)(w.E.line,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.6},transition:{duration:1.5,delay:.05*t,ease:"easeInOut"},x1:a.x,y1:a.y,x2:i.x,y2:i.y,stroke:"url(#linkGradient)",strokeWidth:Math.max(1,.8*e.strength),markerEnd:"url(#arrowhead)"}),e.label&&(0,s.jsxs)("g",{children:[(0,s.jsx)("rect",{x:(a.x+i.x)/2-3*e.label.length,y:(a.y+i.y)/2-9,width:6*e.label.length+10,height:"14",rx:"4",fill:"#1C1C1E",stroke:"#4B5563",strokeWidth:"0.5"}),(0,s.jsx)("text",{x:(a.x+i.x)/2,y:(a.y+i.y)/2+1,textAnchor:"middle",fill:"#9CA3AF",fontSize:"9",fontWeight:"500",className:"font-mono tracking-tight",children:e.label})]})]},"link-".concat(t)):null}),r.map((e,t)=>{let a="police"===e.type,r="expert"===e.type,i="social_services"===e.type;return(0,s.jsxs)(w.E.g,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2+.1*t,type:"spring",stiffness:200,damping:20},className:"cursor-default hover:opacity-90 transition-opacity",children:[(0,s.jsxs)("circle",{cx:e.x,cy:e.y,r:r?22:20,fill:"transparent",stroke:a?"#EF4444":i?"#F59E0B":r?"#D4A017":"#6B7280",strokeWidth:"1.5",opacity:"0.3",filter:a||r?"url(#critical-glow)":"url(#glow)",children:[(a||r||i)&&(0,s.jsx)("animate",{attributeName:"r",values:r?"22;26;22":"20;24;20",dur:"3s",repeatCount:"indefinite"}),(a||r||i)&&(0,s.jsx)("animate",{attributeName:"opacity",values:"0.3;0.1;0.3",dur:"3s",repeatCount:"indefinite"})]}),(0,s.jsx)("circle",{cx:e.x,cy:e.y,r:18,className:"transition-colors duration-300",fill:"#1C1C1E",stroke:a?"#EF4444":i?"#F59E0B":r?"#D4A017":"#4B5563",strokeWidth:"2"}),(0,s.jsx)("text",{x:e.x,y:e.y+35,textAnchor:"middle",fill:"#E5E5E5",className:"text-xs font-medium font-sans tracking-wide",style:{textShadow:"0px 2px 4px rgba(0,0,0,0.8)"},children:e.label}),(0,s.jsx)("text",{x:e.x,y:e.y+4,textAnchor:"middle",fill:a?"#EF4444":i?"#F59E0B":r?"#D4A017":"#9CA3AF",className:"text-[10px] font-bold uppercase pointer-events-none font-mono",children:e.type.slice(0,2)})]},e.id)})]})}),(0,s.jsxs)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-6 text-[10px] text-charcoal-400 font-mono tracking-wider uppercase",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded-full border border-charcoal-700/50 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-bronze-500 shadow-[0_0_8px_rgba(212,160,23,0.5)]"}),"Expert"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded-full border border-charcoal-700/50 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-status-critical shadow-[0_0_8px_rgba(239,68,68,0.5)]"}),"Police"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 bg-black/40 px-3 py-1 rounded-full border border-charcoal-700/50 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-status-high shadow-[0_0_8px_rgba(245,158,11,0.5)]"}),"Social Svcs"]})]})]})}var C=a(8210),A=a(4438),D=a(3177);let E={omission:"Ο",expert_witness:"Ξ",documentary:"Δ",narrative:"Μ",coordination:"Σ",contradiction:"Κ",entity_resolution:"Ε",argumentation:"Α",bias_detection:"Β",accountability:"Λ",professional_tracker:"Π",temporal_parser:"Τ"};function F(){var e,t,a;let{activeCase:p}=(0,D.Ur)(),g=(null==p?void 0:p.id)||"",{data:j}=(0,C.sg)(g),{data:w,refetch:k}=(0,C.x3)(g),F=(0,C._C)(),[S,O]=(0,r.useState)("omission"),[Z,B]=(0,r.useState)([]),[I,R]=(0,r.useState)({}),M=Object.values(A.O1).filter(e=>null!==e.priority).sort((e,t)=>(e.priority||99)-(t.priority||99)),Q=async e=>{if(g&&0!==Z.length){R(t=>({...t,[e]:{running:!0,progress:0}}));try{await F.mutateAsync({engineId:e,caseId:g,documentIds:Z}),R(t=>({...t,[e]:{running:!1,progress:100,lastRun:new Date().toISOString()}})),k()}catch(t){R(t=>({...t,[e]:{running:!1,progress:0}}))}}},P=e=>{B(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},W=(null==w?void 0:w.filter(e=>e.engine===S))||[];return(0,s.jsxs)("div",{className:"flex h-full gap-8 p-2",children:[(0,s.jsxs)("div",{className:"w-80 shrink-0 flex flex-col gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-display text-2xl text-charcoal-100 tracking-tight",children:"Analysis Engines"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-charcoal-400 leading-relaxed",children:"Select an analytic engine to process case documents and extract findings."})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 scrollbar-hide",children:M.map(e=>{let t=I[e.id],a=S===e.id;return(0,s.jsxs)("div",{onClick:()=>O(e.id),className:"\n                  group relative cursor-pointer rounded-xl border border-transparent p-4 transition-all duration-300\n                  ".concat(a?"bg-gradient-to-br from-charcoal-800 to-charcoal-900 border-bronze-500/50 shadow-[0_0_20px_rgba(184,134,11,0.1)]":"bg-charcoal-800/50 hover:bg-charcoal-800 hover:border-charcoal-600","\n                "),children:[a&&(0,s.jsx)("div",{className:"absolute left-0 top-3 bottom-3 w-1 rounded-r bg-bronze-500 shadow-[0_0_10px_rgba(184,134,11,0.5)]"}),(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"\n                    flex h-12 w-12 shrink-0 items-center justify-center rounded-full border-2 font-display text-xl transition-all duration-300\n                    ".concat(a?"border-bronze-500 bg-bronze-500/10 text-bronze-500 shadow-inner":"border-charcoal-700 bg-charcoal-800 text-charcoal-500 group-hover:border-charcoal-500 group-hover:text-charcoal-300","\n                  "),children:E[e.id]||"?"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 pt-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("span",{className:"font-medium transition-colors ".concat(a?"text-charcoal-100":"text-charcoal-300"),children:e.name}),(null==t?void 0:t.running)&&(0,s.jsx)(i.Z,{className:"h-3 w-3 animate-spin text-bronze-500"}),(null==t?void 0:t.lastRun)&&!t.running&&(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-status-success shadow-[0_0_5px_rgba(74,154,106,0.6)]"})]}),(0,s.jsx)("div",{className:"text-xs text-charcoal-500 mt-1 line-clamp-2",children:e.tagline})]})]})]},e.id)})}),S&&A.O1[S]&&(0,s.jsxs)("div",{className:"rounded-xl border border-bronze-500/20 bg-gradient-to-b from-bronze-900/10 to-transparent p-5 backdrop-blur-sm",children:[(0,s.jsxs)("h3",{className:"mb-2 text-xs font-bold text-bronze-500 uppercase tracking-widest",children:[A.O1[S].greek," METHODOLOGY"]}),(0,s.jsxs)("p",{className:"text-sm text-charcoal-200 leading-relaxed font-serif italic",children:['"',A.O1[S].keyQuestion,'"']})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col gap-6 min-w-0",children:[(0,s.jsxs)(u.Zb,{className:"shrink-0 border-charcoal-700 bg-charcoal-800/30 backdrop-blur-md",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-charcoal-700/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 text-bronze-500"}),(0,s.jsx)("h3",{className:"font-medium text-charcoal-100",children:"Document Corpus"}),(0,s.jsxs)(m.Ct,{variant:"outline",className:"ml-2 border-charcoal-600 text-charcoal-400",children:[Z.length," selected"]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{B((null==j?void 0:j.map(e=>e.id))||[])},className:"text-xs font-medium text-bronze-500 hover:text-bronze-400 transition-colors",children:"Select All"}),(0,s.jsx)("div",{className:"w-px h-4 bg-charcoal-700"}),(0,s.jsx)("button",{onClick:()=>B([]),className:"text-xs text-charcoal-400 hover:text-charcoal-300 transition-colors",children:"Clear"})]})]}),(0,s.jsx)("div",{className:"p-2 overflow-x-auto whitespace-nowrap min-h-[80px] flex items-center gap-2 scrollbar-thin scrollbar-thumb-charcoal-600 scrollbar-track-transparent",children:(null==j?void 0:j.length)===0?(0,s.jsx)("div",{className:"w-full text-center text-charcoal-500 text-sm py-2",children:"No documents found. Upload documents to begin analysis."}):null==j?void 0:j.map(e=>{let t=Z.includes(e.id);return(0,s.jsxs)("label",{className:"\n                      inline-flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-all duration-200 border select-none\n                      ".concat(t?"bg-bronze-500/10 border-bronze-500/30 text-charcoal-100":"bg-bg-tertiary border-charcoal-700/50 text-charcoal-400 hover:border-charcoal-600","\n                    "),children:[(0,s.jsx)("input",{type:"checkbox",checked:t,onChange:()=>P(e.id),className:"hidden"}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t?"bg-bronze-500 shadow-[0_0_6px_rgba(184,134,11,0.6)]":"bg-charcoal-600")}),(0,s.jsx)("span",{className:"text-sm font-medium truncate max-w-[150px]",children:e.filename})]},e.id)})}),(0,s.jsx)("div",{className:"px-4 py-3 bg-charcoal-900/50 border-t border-charcoal-700/50 flex justify-end",children:(0,s.jsx)("button",{onClick:()=>S&&Q(S),disabled:!S||0===Z.length||(null===(e=I[S||""])||void 0===e?void 0:e.running),className:" flex items-center justify-center gap-2 rounded-lg bg-gradient-to-r from-bronze-600 to-bronze-700 px-6 py-2  font-medium text-white shadow-lg shadow-bronze-900/20 transition-all  hover:from-bronze-500 hover:to-bronze-600 hover:shadow-bronze-500/20 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 disabled:shadow-none ",children:(null===(t=I[S||""])||void 0===t?void 0:t.running)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 animate-spin"}),(0,s.jsx)("span",{children:"Processing..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{className:"h-4 w-4 fill-current"}),(0,s.jsx)("span",{children:"Execute Analysis"})]})})})]}),(0,s.jsx)("div",{className:"flex-1 min-h-0 bg-bg-secondary/50 rounded-xl border border-charcoal-800 overflow-hidden flex flex-col",children:(0,s.jsxs)(b,{defaultValue:"list",className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-charcoal-800 bg-charcoal-900/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("h3",{className:"font-display text-lg text-charcoal-100",children:[S?null===(a=A.O1[S])||void 0===a?void 0:a.name:""," Results"]}),(0,s.jsxs)(m.Ct,{variant:"outline",className:"border-charcoal-700 text-charcoal-400",children:[W.length," Items"]})]}),(0,s.jsxs)(f,{className:"bg-charcoal-800 p-1 border border-charcoal-700",children:[(0,s.jsxs)(v,{value:"list",className:"gap-2 data-[state=active]:bg-charcoal-700 data-[state=active]:text-charcoal-100",children:[(0,s.jsx)(o.Z,{className:"h-3.5 w-3.5"}),"List"]}),(0,s.jsxs)(v,{value:"timeline",className:"gap-2 data-[state=active]:bg-charcoal-700 data-[state=active]:text-charcoal-100",disabled:"narrative"!==S&&"coordination"!==S,children:[(0,s.jsx)(i.Z,{className:"h-3.5 w-3.5"}),"Timeline"]}),(0,s.jsxs)(v,{value:"network",className:"gap-2 data-[state=active]:bg-charcoal-700 data-[state=active]:text-charcoal-100",disabled:"coordination"!==S,children:[(0,s.jsx)(c.Z,{className:"h-3.5 w-3.5"}),"Network"]})]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto bg-charcoal-900/20",children:[(0,s.jsx)(y,{value:"list",className:"h-full m-0",children:0===W.length?(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-charcoal-800 flex items-center justify-center mb-4 border border-charcoal-700",children:(0,s.jsx)(d.Z,{className:"h-8 w-8 text-charcoal-600"})}),(0,s.jsx)("h4",{className:"text-lg font-medium text-charcoal-200",children:"No Findings Available"}),(0,s.jsxs)("p",{className:"mt-2 text-sm text-charcoal-400 max-w-xs",children:["Select documents and run the ",null==S?void 0:S.replace("_"," ")," engine to generate analysis results."]})]}):(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(N,{findings:W})})}),(0,s.jsx)(y,{value:"timeline",className:"h-full m-0 p-6",children:(0,s.jsx)(_,{events:W.map((e,t)=>{var a,s,r;return{id:e.id,date:(null===(a=e.evidence)||void 0===a?void 0:a.date)||new Date().toISOString(),title:e.title,description:e.description||"",type:(null===(s=e.evidence)||void 0===s?void 0:s.driftDirection)==="toward_finding"?"strengthened":(null===(r=e.evidence)||void 0===r?void 0:r.driftDirection)==="toward_exoneration"?"weakened":"anomaly",severity:e.severity}})})}),(0,s.jsx)(y,{value:"network",className:"h-full m-0 p-6 flex flex-col",children:(()=>{let e=new Map,t=[],a=t=>{let a=t.toLowerCase().replace(/\s+/g,"_");return e.has(a)||e.set(a,{id:a,label:t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),type:a.includes("police")?"police":a.includes("social")?"social_services":a.includes("expert")?"expert":a.includes("court")?"court":"other"}),a};W.forEach(e=>{let s=e.evidence;if(s){if(s.source&&s.target){let r=a(s.source),i=a(s.target);t.push({source:r,target:i,strength:"critical"===e.severity?4:"high"===e.severity?3:1,label:s.type})}if(s.institutions&&Array.isArray(s.institutions)){let r=s.institutions.map(a);for(let a=0;a<r.length;a++)for(let s=a+1;s<r.length;s++)t.push({source:r[a],target:r[s],strength:"critical"===e.severity?5:3,label:"Violation"})}if(s.documents&&Array.isArray(s.documents)){let r=new Set;s.documents.forEach(e=>{e.institution&&r.add(e.institution)});let i=Array.from(r).map(a);for(let a=0;a<i.length;a++)for(let s=a+1;s<i.length;s++)t.push({source:i[a],target:i[s],strength:"critical"===e.severity?4:2,label:"Shared Lang"})}}}),0===e.size&&(a("police"),a("social_services"),a("expert"),a("court"));let r=Array.from(e.values());return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{nodes:r,links:t}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-charcoal-800 p-4 rounded-lg border border-charcoal-700",children:[(0,s.jsx)("div",{className:"text-2xl font-display text-status-critical mb-1",children:t.filter(e=>"Violation"===e.label).length}),(0,s.jsx)("div",{className:"text-xs text-charcoal-400 uppercase tracking-wide",children:"Independence Violations"})]}),(0,s.jsxs)("div",{className:"bg-charcoal-800 p-4 rounded-lg border border-charcoal-700",children:[(0,s.jsx)("div",{className:"text-2xl font-display text-bronze-500 mb-1",children:t.filter(e=>"Shared Lang"===e.label).length}),(0,s.jsx)("div",{className:"text-xs text-charcoal-400 uppercase tracking-wide",children:"Linguistic Collusions"})]}),(0,s.jsxs)("div",{className:"bg-charcoal-800 p-4 rounded-lg border border-charcoal-700",children:[(0,s.jsx)("div",{className:"text-2xl font-display text-charcoal-200 mb-1",children:e.size}),(0,s.jsx)("div",{className:"text-xs text-charcoal-400 uppercase tracking-wide",children:"Nodes Analyzed"})]})]})]})})()})]})]})})]}),(0,s.jsxs)("div",{className:"w-64 shrink-0 flex flex-col gap-4",children:[(0,s.jsx)("h3",{className:"font-display text-lg text-charcoal-100",children:"Actions & Reports"}),(0,s.jsxs)(u.Zb,{className:"p-4 bg-charcoal-800/50 border-charcoal-700 space-y-3",children:[(0,s.jsxs)("button",{className:"w-full flex items-center justify-between p-3 rounded-lg bg-bg-tertiary border border-charcoal-700 hover:border-bronze-500/50 transition-all group",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4 text-bronze-500"}),(0,s.jsx)("span",{className:"text-sm text-charcoal-200 group-hover:text-white",children:"Full Report"})]}),(0,s.jsx)(x.Z,{className:"h-3 w-3 text-charcoal-500"})]}),(0,s.jsxs)("button",{className:"w-full flex items-center justify-between p-3 rounded-lg bg-bg-tertiary border border-charcoal-700 hover:border-bronze-500/50 transition-all group",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 text-bronze-500"}),(0,s.jsx)("span",{className:"text-sm text-charcoal-200 group-hover:text-white",children:"Export Data"})]}),(0,s.jsx)(x.Z,{className:"h-3 w-3 text-charcoal-500"})]})]}),(0,s.jsxs)(u.Zb,{className:"p-4 bg-gradient-to-br from-charcoal-800 to-charcoal-900 border-charcoal-700",children:[(0,s.jsx)("h4",{className:"text-xs font-bold text-charcoal-400 uppercase tracking-widest mb-4",children:"Run Statistics"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-charcoal-300",children:"Total Findings"}),(0,s.jsx)("span",{className:"text-xl font-display text-white",children:(null==w?void 0:w.length)||0})]}),(0,s.jsx)("div",{className:"w-full h-px bg-charcoal-700"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"p-2 bg-status-critical-bg/20 rounded border border-status-critical/20 text-center",children:[(0,s.jsx)("div",{className:"text-lg font-medium text-status-critical",children:(null==w?void 0:w.filter(e=>"critical"===e.severity).length)||0}),(0,s.jsx)("div",{className:"text-[10px] text-status-critical/80 uppercase",children:"Critical"})]}),(0,s.jsxs)("div",{className:"p-2 bg-status-high-bg/20 rounded border border-status-high/20 text-center",children:[(0,s.jsx)("div",{className:"text-lg font-medium text-status-high",children:(null==w?void 0:w.filter(e=>"high"===e.severity).length)||0}),(0,s.jsx)("div",{className:"text-[10px] text-status-high/80 uppercase",children:"High"})]})]})]})]})]})]})}},4438:function(e,t,a){"use strict";a.d(t,{O1:function(){return s},getActiveEngines:function(){return r}});let s={entity_resolution:{id:"entity_resolution",name:"Entity Resolution",greek:"Ε",greekFull:"ἔργον",tagline:"Name/alias/pronoun → canonical ID",description:"Resolves entity references across documents to canonical identities",keyQuestion:"Who is actually being referred to?",priority:null,status:"active"},temporal_parser:{id:"temporal_parser",name:"Temporal Parser",greek:"Τ",greekFull:"χρόνος",tagline:"Deadlines, court calendars, working days",description:"Parses and validates dates, deadlines, and temporal references",keyQuestion:"Do the events align with the stated timeline?",priority:null,status:"active"},argumentation:{id:"argumentation",name:"Argumentation",greek:"Α",greekFull:"ἐπιχείρημα",tagline:"Toulmin structures + UK legal rules",description:"Analyzes argument structures using Toulmin model",keyQuestion:"Is the argument logically sound and supported?",priority:null,status:"active"},bias_detection:{id:"bias_detection",name:"Bias Detection",greek:"Β",greekFull:"προκατάληψη",tagline:"Statistical z-score analysis",description:"Detects systematic bias patterns using statistical analysis",keyQuestion:"Is there systematic bias against a party?",priority:null,status:"active"},contradiction:{id:"contradiction",name:"Contradiction",greek:"Κ",greekFull:"ἀντίφασις",tagline:"Claim comparison across documents",description:"Identifies contradictory claims across document corpus",keyQuestion:"Do statements contradict each other across documents?",priority:null,status:"active"},accountability_audit:{id:"accountability_audit",name:"Accountability Audit",greek:"Λ",greekFull:"λογοδοσία",tagline:"Statutory duty violations",description:"Audits compliance with statutory duties and obligations",keyQuestion:"Did the authority follow statutory procedures?",priority:null,status:"active"},professional_tracker:{id:"professional_tracker",name:"Professional Tracker",greek:"Π",greekFull:"πρόσωπον",tagline:"Per-professional behavior patterns",description:"Tracks individual professional conduct across case history",keyQuestion:"Is this professional behaving consistently?",priority:null,status:"active"},omission:{id:"omission",name:"Omission Detection",greek:"Ο",greekFull:"παράλειψις",tagline:"What Was Left Out",description:"Identifies systematic gaps in professional reports by comparing source documents against reports",keyQuestion:"Did omissions systematically favor one narrative?",priority:1,status:"active"},expert_witness:{id:"expert_witness",name:"Expert Witness",greek:"Ξ",greekFull:"ἐπιστήμη",tagline:"Expertise Boundaries",description:"Evaluates expert reports for PD25B/CPR Part 35 compliance (UK) and scope exceedances",keyQuestion:"Did the expert stay within their expertise boundaries?",priority:2,status:"active"},documentary:{id:"documentary",name:"Documentary Analysis",greek:"Δ",greekFull:"κριτική",tagline:"Editorial Scrutiny",description:"Analyzes documentary evidence for editorial manipulation and bias",keyQuestion:"Was evidence edited to support a particular narrative?",priority:3,status:"active"},narrative:{id:"narrative",name:"Narrative Evolution",greek:"Μ",greekFull:"μεταμόρφωσις",tagline:"Story Drift",description:"Tracks how claims mutate across documents over time",keyQuestion:"Did the story drift consistently toward one conclusion?",priority:4,status:"active"},coordination:{id:"coordination",name:"Cross-Institutional",greek:"Σ",greekFull:"σύμπλεξις",tagline:"Hidden Coordination",description:"Detects improper coordination between institutions that should operate independently",keyQuestion:'Were "independent" sources actually independent?',priority:5,status:"active"}};function r(){return Object.values(s).filter(e=>"active"===e.status)}}},function(e){e.O(0,[137,954,730,263,207,805,216,971,117,744],function(){return e(e.s=490)}),_N_E=e.O()}]);